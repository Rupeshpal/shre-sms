name: FTP Deploy Laravel Project

on:
  push:
    branches:
      - main  # or master

jobs:
  ftp-deploy:
    name: ðŸš€ Deploy via FTP
    runs-on: ubuntu-latest

    steps:
      - name: ðŸ“¥ Checkout code
        uses: actions/checkout@v3

      - name: â›” Remove unnecessary files
        run: |
          rm -rf .git
          rm -rf node_modules
          rm -f .env

      - name: ðŸ“¤ FTP Deploy
        uses: SamKirkland/FTP-Deploy-Action@v4.3.4
        with:
          server: shreeja.aaditya.edu.np
          username: shreeja@shreeja.aaditya.edu.np
          password: Rupesh#@121
          server-dir: ./
          exclude: |
            **/.env
            **/node_modules/**
            **/.gitignore
            **/.github/**
            **/storage/logs/**